<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Cleans the samples based on SOM map information — sits_som_clean_samples • sits</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/IBM_Plex_Serif-0.4.10/font.css" rel="stylesheet"><link href="../deps/IBM_Plex_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Cleans the samples based on SOM map information — sits_som_clean_samples"><meta name="description" content="sits_som_clean_samples() evaluates the quality of the samples
based on the results of the SOM map."><meta property="og:description" content="sits_som_clean_samples() evaluates the quality of the samples
based on the results of the SOM map."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sits</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.5.3-1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="nav-link" href="https://e-sensing.github.io/sitsbook/">Book</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/e-sensing/sits/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Cleans the samples based on SOM map information</h1>
      <small class="dont-index">Source: <a href="https://github.com/e-sensing/sits/blob/HEAD/R/sits_som.R" class="external-link"><code>R/sits_som.R</code></a></small>
      <div class="d-none name"><code>sits_som_clean_samples.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>sits_som_clean_samples()</code> evaluates the quality of the samples
based on the results of the SOM map.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sits_som_clean_samples</span><span class="op">(</span></span>
<span>  <span class="va">som_map</span>,</span>
<span>  prior_threshold <span class="op">=</span> <span class="fl">0.6</span>,</span>
<span>  posterior_threshold <span class="op">=</span> <span class="fl">0.6</span>,</span>
<span>  keep <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"clean"</span>, <span class="st">"analyze"</span>, <span class="st">"remove"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-som-map">som_map<a class="anchor" aria-label="anchor" href="#arg-som-map"></a></dt>
<dd><p>Returned by <code><a href="sits_som_map.html">sits_som_map</a></code>.</p></dd>


<dt id="arg-prior-threshold">prior_threshold<a class="anchor" aria-label="anchor" href="#arg-prior-threshold"></a></dt>
<dd><p>Threshold of conditional probability
(frequency of samples assigned to the
 same SOM neuron).</p></dd>


<dt id="arg-posterior-threshold">posterior_threshold<a class="anchor" aria-label="anchor" href="#arg-posterior-threshold"></a></dt>
<dd><p>Threshold of posterior probability
(influenced by the SOM neighborhood).</p></dd>


<dt id="arg-keep">keep<a class="anchor" aria-label="anchor" href="#arg-keep"></a></dt>
<dd><p>Which types of evaluation to be maintained in the data.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>tibble with an two additional columns.
The first indicates if each sample is clean, should be analyzed or
should be removed. The second is the posterior probability of the sample.
The "keep" parameter indicates which</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>The algorithm identifies noisy samples,
using `prior_threshold` for the prior probability
and `posterior_threshold` for the posterior probability.
Each sample receives an evaluation tag, according to the following rule:
(a) If the prior probability is &lt; `prior_threshold`, the sample is tagged
as "remove";
(b) If the prior probability is &gt;= `prior_threshold` and the posterior
probability is &gt;=`posterior_threshold`, the sample is tagged as "clean";
(c) If the prior probability is &gt;= `posterior_threshold` and
the posterior probability is &lt; `posterior_threshold`, the sample is tagged as
"analyze" for further inspection.
The user can define which tagged samples will be returned using the "keep"
parameter, with the following options: "clean", "analyze", "remove".</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Lorena Alves, <a href="mailto:lorena.santos@inpe.br">lorena.santos@inpe.br</a></p>
<p>Karine Ferreira. <a href="mailto:karine.ferreira@inpe.br">karine.ferreira@inpe.br</a></p>
<p>Gilberto Camara, <a href="mailto:gilberto.camara@inpe.br">gilberto.camara@inpe.br</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="sits_run_examples.html">sits_run_examples</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="co"># create a som map</span></span></span>
<span class="r-in"><span>    <span class="va">som_map</span> <span class="op">&lt;-</span> <span class="fu"><a href="sits_som_map.html">sits_som_map</a></span><span class="op">(</span><span class="va">samples_modis_ndvi</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="co"># plot the som map</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">som_map</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="co"># evaluate the som map and create clusters</span></span></span>
<span class="r-in"><span>    <span class="va">clusters_som</span> <span class="op">&lt;-</span> <span class="fu"><a href="sits_som_evaluate_cluster.html">sits_som_evaluate_cluster</a></span><span class="op">(</span><span class="va">som_map</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="co"># plot the cluster evaluation</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">clusters_som</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="co"># clean the samples</span></span></span>
<span class="r-in"><span>    <span class="va">new_samples</span> <span class="op">&lt;-</span> <span class="fu">sits_som_clean_samples</span><span class="op">(</span><span class="va">som_map</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Rolf Simoes, Gilberto Camara, Felipe Souza, Felipe Carlos.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>


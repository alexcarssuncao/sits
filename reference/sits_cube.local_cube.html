<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create sits cubes from cubes in flat files in a local — sits_cube.local_cube • sits</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/IBM_Plex_Serif-0.4.10/font.css" rel="stylesheet"><link href="../deps/IBM_Plex_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create sits cubes from cubes in flat files in a local — sits_cube.local_cube"><meta name="description" content="Creates data cubes based on files on local directory. Assumes users
have downloaded the data from a known cloud collection or the data
has been created by sits."><meta property="og:description" content="Creates data cubes based on files on local directory. Assumes users
have downloaded the data from a known cloud collection or the data
has been created by sits."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sits</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.5.3-1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="nav-link" href="https://e-sensing.github.io/sitsbook/">Book</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/e-sensing/sits/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Create sits cubes from cubes in flat files in a local</h1>
      <small class="dont-index">Source: <a href="https://github.com/e-sensing/sits/blob/master/R/sits_cube_local.R" class="external-link"><code>R/sits_cube_local.R</code></a></small>
      <div class="d-none name"><code>sits_cube.local_cube.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Creates data cubes based on files on local directory. Assumes users
have downloaded the data from a known cloud collection or the data
has been created by <code>sits</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'local_cube'</span></span>
<span><span class="fu"><a href="sits_cube.html">sits_cube</a></span><span class="op">(</span></span>
<span>  <span class="va">source</span>,</span>
<span>  <span class="va">collection</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  bands <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tiles <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  start_date <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  end_date <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">data_dir</span>,</span>
<span>  parse_info <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"X1"</span>, <span class="st">"X2"</span>, <span class="st">"tile"</span>, <span class="st">"band"</span>, <span class="st">"date"</span><span class="op">)</span>,</span>
<span>  delim <span class="op">=</span> <span class="st">"_"</span>,</span>
<span>  multicores <span class="op">=</span> <span class="fl">2L</span>,</span>
<span>  progress <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-source">source<a class="anchor" aria-label="anchor" href="#arg-source"></a></dt>
<dd><p>Data source: one of <code>"AWS"</code>, <code>"BDC"</code>,
<code>"CDSE"</code>, <code>"DEAFRICA"</code>, <code>"DEAUSTRALIA"</code>,
<code>"HLS"</code>, <code>"PLANETSCOPE"</code>, <code>"MPC"</code>,
<code>"SDC"</code> or <code>"USGS"</code>. This is the source
from which the data has been downloaded.</p></dd>


<dt id="arg-collection">collection<a class="anchor" aria-label="anchor" href="#arg-collection"></a></dt>
<dd><p>Image collection in data source.
To find out the supported collections,
use <code><a href="sits_list_collections.html">sits_list_collections</a>()</code>).</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Other parameters to be passed for specific types.</p></dd>


<dt id="arg-bands">bands<a class="anchor" aria-label="anchor" href="#arg-bands"></a></dt>
<dd><p>Spectral bands and indices to be included
in the cube (optional).</p></dd>


<dt id="arg-tiles">tiles<a class="anchor" aria-label="anchor" href="#arg-tiles"></a></dt>
<dd><p>Tiles from the collection to be included in
the cube (see details below).</p></dd>


<dt id="arg-start-date-end-date">start_date, end_date<a class="anchor" aria-label="anchor" href="#arg-start-date-end-date"></a></dt>
<dd><p>Initial and final dates to include
images from the collection in the cube (optional).
(Date in YYYY-MM-DD format).</p></dd>


<dt id="arg-data-dir">data_dir<a class="anchor" aria-label="anchor" href="#arg-data-dir"></a></dt>
<dd><p>Local directory where images are stored.</p></dd>


<dt id="arg-parse-info">parse_info<a class="anchor" aria-label="anchor" href="#arg-parse-info"></a></dt>
<dd><p>Parsing information for local files.</p></dd>


<dt id="arg-delim">delim<a class="anchor" aria-label="anchor" href="#arg-delim"></a></dt>
<dd><p>Delimiter for parsing local files (default = "_")</p></dd>


<dt id="arg-multicores">multicores<a class="anchor" aria-label="anchor" href="#arg-multicores"></a></dt>
<dd><p>Number of workers for parallel processing
(integer, min = 1, max = 2048).</p></dd>


<dt id="arg-progress">progress<a class="anchor" aria-label="anchor" href="#arg-progress"></a></dt>
<dd><p>Logical: show a progress bar?</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>tibble</code> describing the contents of a data cube.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>To create a cube from local files, please inform:</p><ul><li><p><code>source</code>: The data provider from which the data was
 downloaded (e.g, "BDC", "MPC");</p></li>
<li><p><code>collection</code>: The collection from which the data comes from.
 (e.g., <code>"SENTINEL-2-L2A"</code> for the Sentinel-2 MPC collection level 2A);</p></li>
<li><p><code>data_dir</code>: The local directory where the image files are stored.</p></li>
<li><p><code>parse_info</code>: Defines how to extract metadata from file names
 by specifying the order and meaning of each part, separated by the
 <code>"delim"</code> character. Default value is
 <code>c("X1", "X2", "tile", "band", "date")</code>.</p></li>
<li><p><code>delim</code>: The delimiter character used to separate components in
 the file names. Default is <code>"_"</code>.</p></li>
</ul><p>Please ensure that local files meet the following requirements:</p>
<ul><li><p>All image files must have the same spatial resolution and projection;</p></li>
<li><p>Each file should represent a single image band for a single date;</p></li>
<li><p>File names must include information about the <code>tile</code>,
 <code>date</code>, and <code>band</code> in their names.</p></li>
<li><p>The <code>parse_info</code> parameter tells <code>sits</code> how to extract
         metadata from file names.</p></li>
<li><p>By default the <code>parse_info</code> parameter is
         <code>c(satellite, sensor, tile, band, date)</code>.</p></li>
</ul><p>Example of supported file names are:</p><ul><li><p><code>"CBERS-4_WFI_022024_B13_2021-05-15.tif"</code>;</p></li>
<li><p><code>"SENTINEL-1_GRD_30TXL_VV_2023-03-10.tif"</code>;</p></li>
<li><p><code>"LANDSAT-8_OLI_198030_B04_2020-09-12.tif"</code>.</p></li>
</ul><p>When you load a local data cube specifying the <code>source</code>
(e.g., AWS, MPC) and <code>collection</code>, <code>sits</code> assumes that the data
properties (e.g., scale factor, minimum, and maximum values) match those
defined for the selected provider. If you are working with
custom data from an unsupported source or data that does not follow the
standard definitions of providers in sits, refer to the Technical Annex of
the <code>sits</code> online book for guidance on handling such cases
(e-sensing.github.io/sitsbook/technical-annex.html).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="sits_run_examples.html">sits_run_examples</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="co"># --- Create a cube based on a local MODIS data</span></span></span>
<span class="r-in"><span>    <span class="co"># MODIS local files have names such as</span></span></span>
<span class="r-in"><span>    <span class="co"># "TERRA_MODIS_012010_NDVI_2013-09-14.jp2"</span></span></span>
<span class="r-in"><span>    <span class="co"># see the parse info parameter as an example on how to</span></span></span>
<span class="r-in"><span>    <span class="co"># decode local files</span></span></span>
<span class="r-in"><span>    <span class="va">data_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/raster/mod13q1"</span>, package <span class="op">=</span> <span class="st">"sits"</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">modis_cube</span> <span class="op">&lt;-</span> <span class="fu"><a href="sits_cube.html">sits_cube</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        source <span class="op">=</span> <span class="st">"BDC"</span>,</span></span>
<span class="r-in"><span>        collection <span class="op">=</span> <span class="st">"MOD13Q1-6.1"</span>,</span></span>
<span class="r-in"><span>        data_dir <span class="op">=</span> <span class="va">data_dir</span>,</span></span>
<span class="r-in"><span>        parse_info <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"satellite"</span>, <span class="st">"sensor"</span>, <span class="st">"tile"</span>, <span class="st">"band"</span>, <span class="st">"date"</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Rolf Simoes, Gilberto Camara, Felipe Souza, Felipe Carlos.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>


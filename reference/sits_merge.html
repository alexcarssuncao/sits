<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Merge two data sets (time series or cubes) — sits_merge • sits</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/IBM_Plex_Serif-0.4.10/font.css" rel="stylesheet"><link href="../deps/IBM_Plex_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Merge two data sets (time series or cubes) — sits_merge"><meta name="description" content='To merge two series, we consider that they contain different
attributes but refer to the same data cube and spatiotemporal location.
This function is useful for merging different bands of the same location.
For example, one may want to put the raw and smoothed bands for the same set
of locations in the same tibble.
In the case of data cubes, the function merges the images based on the
following conditions:
If the two cubes have different bands but compatible timelines, the
bands are combined, and the timeline is adjusted to overlap. To create the
overlap, we align the timelines like a "zipper": for each interval defined
by a pair of consecutive dates in the first timeline, we include matching
dates from the second timeline. If the second timeline has multiple dates
in the same interval, only the minimum date is kept. This ensures the final
timeline avoids duplicates and is consistent. This is useful when merging
data from different sensors (e.g., Sentinel-1 with Sentinel-2).
If the bands are the same, the cube will have the combined timeline of
both cubes. This is useful for merging data from the same sensors from
different satellites (e.g., Sentinel-2A with Sentinel-2B).
otherwise, the function will produce an error.

'><meta property="og:description" content='To merge two series, we consider that they contain different
attributes but refer to the same data cube and spatiotemporal location.
This function is useful for merging different bands of the same location.
For example, one may want to put the raw and smoothed bands for the same set
of locations in the same tibble.
In the case of data cubes, the function merges the images based on the
following conditions:
If the two cubes have different bands but compatible timelines, the
bands are combined, and the timeline is adjusted to overlap. To create the
overlap, we align the timelines like a "zipper": for each interval defined
by a pair of consecutive dates in the first timeline, we include matching
dates from the second timeline. If the second timeline has multiple dates
in the same interval, only the minimum date is kept. This ensures the final
timeline avoids duplicates and is consistent. This is useful when merging
data from different sensors (e.g., Sentinel-1 with Sentinel-2).
If the bands are the same, the cube will have the combined timeline of
both cubes. This is useful for merging data from the same sensors from
different satellites (e.g., Sentinel-2A with Sentinel-2B).
otherwise, the function will produce an error.

'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sits</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.5.3-1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="nav-link" href="https://e-sensing.github.io/sitsbook/">Book</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/e-sensing/sits/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Merge two data sets (time series or cubes)</h1>
      <small class="dont-index">Source: <a href="https://github.com/e-sensing/sits/blob/master/R/sits_merge.R" class="external-link"><code>R/sits_merge.R</code></a></small>
      <div class="d-none name"><code>sits_merge.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>To merge two series, we consider that they contain different
attributes but refer to the same data cube and spatiotemporal location.
This function is useful for merging different bands of the same location.
For example, one may want to put the raw and smoothed bands for the same set
of locations in the same tibble.</p>
<p>In the case of data cubes, the function merges the images based on the
following conditions:</p><ol><li><p>If the two cubes have different bands but compatible timelines, the
bands are combined, and the timeline is adjusted to overlap. To create the
overlap, we align the timelines like a "zipper": for each interval defined
by a pair of consecutive dates in the first timeline, we include matching
dates from the second timeline. If the second timeline has multiple dates
in the same interval, only the minimum date is kept. This ensures the final
timeline avoids duplicates and is consistent. This is useful when merging
data from different sensors (e.g., Sentinel-1 with Sentinel-2).</p></li>
<li><p>If the bands are the same, the cube will have the combined timeline of
both cubes. This is useful for merging data from the same sensors from
different satellites (e.g., Sentinel-2A with Sentinel-2B).</p></li>
<li><p>otherwise, the function will produce an error.</p></li>
</ol></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sits_merge</span><span class="op">(</span><span class="va">data1</span>, <span class="va">data2</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'sits'</span></span>
<span><span class="fu">sits_merge</span><span class="op">(</span><span class="va">data1</span>, <span class="va">data2</span>, <span class="va">...</span>, suffix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">".1"</span>, <span class="st">".2"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'raster_cube'</span></span>
<span><span class="fu">sits_merge</span><span class="op">(</span><span class="va">data1</span>, <span class="va">data2</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Default S3 method</span></span>
<span><span class="fu">sits_merge</span><span class="op">(</span><span class="va">data1</span>, <span class="va">data2</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data-">data1<a class="anchor" aria-label="anchor" href="#arg-data-"></a></dt>
<dd><p>Time series (tibble of class "sits")
or data cube (tibble of class "raster_cube") .</p></dd>


<dt id="arg-data-">data2<a class="anchor" aria-label="anchor" href="#arg-data-"></a></dt>
<dd><p>Time series (tibble of class "sits")
or data cube (tibble of class "raster_cube") .</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional parameters</p></dd>


<dt id="arg-suffix">suffix<a class="anchor" aria-label="anchor" href="#arg-suffix"></a></dt>
<dd><p>If data1 and data2 are tibble with duplicate bands, this
suffix will be added (character vector).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>merged data sets (tibble of class "sits" or
        tibble of class "raster_cube")</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Felipe Carvalho, <a href="mailto:felipe.carvalho@inpe.br">felipe.carvalho@inpe.br</a></p>
<p>Felipe Carlos,   <a href="mailto:efelipecarlos@gmail.com">efelipecarlos@gmail.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="sits_run_examples.html">sits_run_examples</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="co"># Retrieve a time series with values of NDVI</span></span></span>
<span class="r-in"><span>    <span class="va">point_ndvi</span> <span class="op">&lt;-</span> <span class="fu"><a href="sits_select.html">sits_select</a></span><span class="op">(</span><span class="va">point_mt_6bands</span>, bands <span class="op">=</span> <span class="st">"NDVI"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="co"># Filter the point using the Whittaker smoother</span></span></span>
<span class="r-in"><span>    <span class="va">point_whit</span> <span class="op">&lt;-</span> <span class="fu"><a href="sits_filter.html">sits_filter</a></span><span class="op">(</span><span class="va">point_ndvi</span>, <span class="fu"><a href="sits_whittaker.html">sits_whittaker</a></span><span class="op">(</span>lambda <span class="op">=</span> <span class="fl">3.0</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="co"># Merge time series</span></span></span>
<span class="r-in"><span>    <span class="va">point_ndvi</span> <span class="op">&lt;-</span> <span class="fu">sits_merge</span><span class="op">(</span><span class="va">point_ndvi</span>, <span class="va">point_whit</span>, suffix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">""</span>, <span class="st">".WHIT"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="co"># Plot the two points to see the smoothing effect</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">point_ndvi</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Rolf Simoes, Gilberto Camara, Felipe Souza, Felipe Carlos.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>


<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Satellite Image Time Series Analysis for Earth Observation Data Cubes • sits</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/IBM_Plex_Serif-0.4.10/font.css" rel="stylesheet">
<link href="deps/IBM_Plex_Mono-0.4.10/font.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Satellite Image Time Series Analysis for Earth Observation Data Cubes">
<meta name="description" content="An end-to-end toolkit for land use and land cover classification using big Earth observation data. Builds satellite image data cubes from cloud collections. Supports visualization methods for images and time series and smoothing filters for dealing with noisy time series. Enables merging of multi-source imagery (SAR, optical, DEM). Includes functions for quality assessment of training samples using self-organized maps and to reduce training samples imbalance. Provides machine learning algorithms including support vector machines, random forests, extreme gradient boosting, multi-layer perceptrons, temporal convolution neural networks, and temporal attention encoders. Performs efficient classification of big Earth observation data cubes and includes functions for post-classification smoothing based on Bayesian inference. Enables best practices for estimating area and assessing accuracy of land change. Includes object-based spatio-temporal segmentation for space-time OBIA. Minimum recommended requirements: 16 GB RAM and 4 CPU dual-core.">
<meta property="og:description" content="An end-to-end toolkit for land use and land cover classification using big Earth observation data. Builds satellite image data cubes from cloud collections. Supports visualization methods for images and time series and smoothing filters for dealing with noisy time series. Enables merging of multi-source imagery (SAR, optical, DEM). Includes functions for quality assessment of training samples using self-organized maps and to reduce training samples imbalance. Provides machine learning algorithms including support vector machines, random forests, extreme gradient boosting, multi-layer perceptrons, temporal convolution neural networks, and temporal attention encoders. Performs efficient classification of big Earth observation data cubes and includes functions for post-classification smoothing based on Bayesian inference. Enables best practices for estimating area and assessing accuracy of land change. Includes object-based spatio-temporal segmentation for space-time OBIA. Minimum recommended requirements: 16 GB RAM and 4 CPU dual-core.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">sits</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.5.3-1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
<li class="nav-item"><a class="nav-link" href="https://e-sensing.github.io/sitsbook/">Book</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/e-sensing/sits/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="sits---satellite-image-time-series-analysis-for-earth-observation-data-cubes-">SITS - Satellite Image Time Series Analysis for Earth Observation Data Cubes <img src="reference/figures/sits_sticker.png" align="right" width="150" alt="SITS icon"><a class="anchor" aria-label="anchor" href="#sits---satellite-image-time-series-analysis-for-earth-observation-data-cubes-"></a>
</h1></div>
<!-- badges: start -->
<!-- [![Build Status](https://drone.dpi.inpe.br/api/badges/e-sensing/sits/status.svg)](https://drone.dpi.inpe.br/e-sensing/sits) -->

<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p><code>sits</code> is an open source R/Python package for satellite image time series analysis. The package is developed in R and provides full access to its functions with a Python API. It enables users to apply machine learning techniques for classifying image time series obtained from earth observation data cubes. The basic workflow in <code>sits</code> is:</p>
<ol style="list-style-type: decimal">
<li>Select an image collection from cloud providers AWS, Brazil Data Cube, Digital Earth Africa, Copernicus Data Space Ecosystem, Digital Earth Australia, Microsoft Planetary Computer, NASA Harmonized Landsat/Sentinel, Open Geo Hub, and Swiss Data Cube.</li>
<li>Build a regular data cube from analysis-ready image collections.</li>
<li>Merge data cube from multisource analysis (e.g., Sentinel-1 with Sentinel-2).</li>
<li>Extract labelled time series from data cubes to be used as training samples.</li>
<li>Perform samples quality control using self-organised maps.</li>
<li>Train machine learning and deep learning models.</li>
<li>Tune deep learning models for improved accuracy.</li>
<li>Classify data cubes using machine learning and deep learning models, with GPU support if available.</li>
<li>Run spatial-temporal segmentation methods for object-based time series classification.</li>
<li>Post-process classified images with Bayesian smoothing to remove outliers.</li>
<li>Estimate uncertainty values of classified images.</li>
<li>Evaluate classification accuracy using best practices.</li>
<li>Improve results with active learning and self-supervised learning methods.</li>
</ol>
<div class="figure" style="text-align: center">
<img src="reference/figures/sits_general_view.jpg" alt="Conceptual view of data cubes (source: authors)" width="60%" height="60%"><p class="caption">
Conceptual view of data cubes (source: authors)
</p>
</div>
</div>
<div class="section level2">
<h2 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a>
</h2>
<p>Detailed documentation on how to use <code>sits</code> is available in the e-book <a href="https://e-sensing.github.io/sitsbook/">“Satellite Image Time Series Analysis on Earth Observation Data Cubes”</a>.</p>
<p>Code documentation on the <code>sits</code> functions is available in the <a href="https://e-sensing.github.io/sits/">pkgdown format</a>.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="section level3">
<h3 id="pre-requisites">Pre-Requisites<a class="anchor" aria-label="anchor" href="#pre-requisites"></a>
</h3>
<p>Since the <code>sits</code> package is developed in <code>R</code>, to run it you need an R environment on which you install the <code>R</code> version of <code>sits</code>. After that, users can optionally install the Python API interface as described below.</p>
</div>
<div class="section level3">
<h3 id="obtaining-sits-in-r">Obtaining <code>sits</code> in R<a class="anchor" aria-label="anchor" href="#obtaining-sits-in-r"></a>
</h3>
<p>After installing the latest version of <code>R</code> from the <a href="https://cran.r-project.org/" class="external-link">CRAN archive</a>, <code>sits</code> can also be installed from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"sits"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>The latest supported version is available on github. It may have additional fixes from the version available from CRAN.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"e-sensing/sits"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load the sits library</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/e-sensing/sits/" class="external-link">sits</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; SITS - satellite image time series analysis.</span></span>
<span><span class="co">#&gt; Loaded sits v1.5.3-1.</span></span>
<span><span class="co">#&gt;         See ?sits for help, citation("sits") for use in publication.</span></span>
<span><span class="co">#&gt;         Documentation avaliable in https://e-sensing.github.io/sitsbook/</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="configuring-the-python-environment">Configuring the Python environment<a class="anchor" aria-label="anchor" href="#configuring-the-python-environment"></a>
</h3>
<p>The Python interface for sits is as a wrapper around the R implementation. It gives Python users access to the all features of the sits package. To use <code>sits</code> in Python, one needs Python 3.10 or higher. After installing the R version of <code>sits</code>, please also install the <code>arrow</code> R package.</p>
<p>The Python API for <code>sits</code> is available on <code>PyPi</code>, and can be installed as follows:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">pip</span> install pysits</span></code></pre></div>
<p>Please follow the examples of the <a href="https://e-sensing.github.io/sitsbook/">SITS book</a> for examples of Python usage.</p>
</div>
<div class="section level3">
<h3 id="support-for-gpu">Support for GPU<a class="anchor" aria-label="anchor" href="#support-for-gpu"></a>
</h3>
<p>For users working with deep learning models, <code>sits</code> supports GPU acceleration through the <a href="https://torch.mlverse.org/docs/" class="external-link">torch</a> package, which is already included as a dependency when you install <code>sits</code>. This provides significant performance improvements for deep learning operations. The <code>torch</code> package automatically detects available GPUs and utilizes them when possible, requiring no additional configuration in most cases.</p>
</div>
</div>
<div class="section level2">
<h2 id="building-earth-observation-data-cubes">Building Earth Observation Data Cubes<a class="anchor" aria-label="anchor" href="#building-earth-observation-data-cubes"></a>
</h2>
<div class="section level3">
<h3 id="image-collections-accessible-by-sits">Image Collections Accessible by <code>sits</code>
<a class="anchor" aria-label="anchor" href="#image-collections-accessible-by-sits"></a>
</h3>
<p>Users create data cubes from analysis-ready data (ARD) image collections available in cloud services. The collections accessible in <code>sits</code> 1.5.3.1 are:</p>
<ul>
<li>Brazil Data Cube - <a href="https://data.inpe.br/bdc/web/en/home-page-2/" class="external-link">BDC</a>: Open data collections of Sentinel-2, Landsat-8 and CBERS-4 images.</li>
<li>Copernicus Data Space Environment <a href="https://dataspace.copernicus.eu/" class="external-link">CDSE</a>: Open data collections from the EU Copernicus programme.</li>
<li>Earth on AWS - <a href="https://aws.amazon.com/earth/" class="external-link">AWS</a>: Sentinel-2/2A level 2A collections.</li>
<li>Digital Earth Africa - <a href="https://www.digitalearthafrica.org/" class="external-link">DEAFRICA</a>: Open data collection of Sentinel-2/2A and Landsat-8 for Africa.</li>
<li>Digital Earth Australia - <a href="https://www.ga.gov.au/scientific-topics/dea" class="external-link">DEAUSTRALIA</a>: Open data collections for the Australian subcontinent.</li>
<li>Microsoft Planetary Computer - <a href="https://planetarycomputer.microsoft.com/catalog" class="external-link">MPC</a>: Open data collection of Sentinel-2/2A and Landsat-8.</li>
<li>NASA Harmonized Landsat/Sentinel Collection <a href="https://hls.gsfc.nasa.gov/" class="external-link">HLS</a>.</li>
<li>Open Geo Hub Harmonized Landsat-5/7/8 Collection at <a href="https://stac.openlandmap.org/landsat_glad.swa.ard2_bimonthly/collection.json" class="external-link">OGH</a>.</li>
<li>Swiss Data Cube (<a href="https://www.swissdatacube.org/" class="external-link">SDC</a>): Open data collection of Sentinel-2/2A and Landsat-8.</li>
<li>
<a href="https://landsatlook.usgs.gov/stac-browser" class="external-link">USGS</a>: Landsat-4/5/7/8 collections, which are not open data.</li>
</ul>
<p>Open data collections do not require payment of access fees. Except for those in the Brazil Data Cube, these collections are not regular. Irregular collections require further processing before they can be used for classification using machine learning models.</p>
</div>
<div class="section level3">
<h3 id="building-a-data-cube-from-an-ard-image-collection">Building a Data Cube from an ARD Image Collection<a class="anchor" aria-label="anchor" href="#building-a-data-cube-from-an-ard-image-collection"></a>
</h3>
<p>The following code defines an irregular data cube of Sentinel-2/2A images available in the Microsoft Planetary Computer, using the open data collection <code>"SENTINEL-2-L2A"</code>. The geographical area of the data cube is defined by the tiles <code>"20LKP"</code> and <code>"20LLKP"</code>, and the temporal extent by a start and end date. Access to other cloud services works in similar ways.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s2_cube</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/sits_cube.html">sits_cube</a></span><span class="op">(</span></span>
<span>    source <span class="op">=</span> <span class="st">"MPC"</span>,</span>
<span>    collection <span class="op">=</span> <span class="st">"SENTINEL-2-L2A"</span>,</span>
<span>    tiles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"20LKP"</span>, <span class="st">"20LLP"</span><span class="op">)</span>,</span>
<span>    bands <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"B03"</span>, <span class="st">"B08"</span>, <span class="st">"B11"</span>, <span class="st">"SCL"</span><span class="op">)</span>,</span>
<span>    start_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2018-07-01"</span><span class="op">)</span>,</span>
<span>    end_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2019-06-30"</span><span class="op">)</span>,</span>
<span>    progress <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This cube is irregular. The timelines of tiles <code>"20LKP"</code> and <code>"20LLKP"</code> and the resolutions of the bands are different. Sentinel-2 bands <code>"B03"</code> and <code>"B08"</code> have 10-meters resolution, while band <code>"B11"</code> and the cloud band <code>"SCL"</code> have 20-meters resolution. Irregular collections need an additional processing step to be converted to regular data cubes, as described below.</p>
<div class="figure" style="text-align: center">
<img src="reference/figures/datacube_conception.jpg" alt="Conceptual view of data cubes (source: authors)" width="90%" height="90%"><p class="caption">
Conceptual view of data cubes (source: authors)
</p>
</div>
<p>After defining an irregular ARD image collection from a cloud service using <code><a href="reference/sits_cube.html">sits_cube()</a></code>, users should run <code><a href="reference/sits_regularize.html">sits_regularize()</a></code> to build a regular data cube. This function uses the <a href="https://github.com/appelmar/gdalcubes" class="external-link">gdalcubes R package</a>, described in <a href="https://www.mdpi.com/2306-5729/4/3/92" class="external-link">Appel and Pebesma, 2019</a>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gc_cube</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/sits_regularize.html">sits_regularize</a></span><span class="op">(</span></span>
<span>    cube          <span class="op">=</span> <span class="va">s2_cube</span>,</span>
<span>    output_dir    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    period        <span class="op">=</span> <span class="st">"P15D"</span>,</span>
<span>    res           <span class="op">=</span> <span class="fl">60</span>,</span>
<span>    multicores    <span class="op">=</span> <span class="fl">4</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>The above command builds a regular data cube with all bands interpolated to 60 m spatial resolution and 15-days temporal resolution. Regular data cubes are the input to the <code>sits</code> functions for time series retrieval, building machine learning models, and classification of raster images and time series.</p>
</div>
</div>
<div class="section level2">
<h2 id="working-with-time-series-in-sits">Working with Time Series in <code>sits</code>
<a class="anchor" aria-label="anchor" href="#working-with-time-series-in-sits"></a>
</h2>
<div class="section level3">
<h3 id="accessing-time-series-in-data-cubes">Accessing Time Series in Data Cubes<a class="anchor" aria-label="anchor" href="#accessing-time-series-in-data-cubes"></a>
</h3>
<p><code>sits</code> has been designed to use satellite image time series to derive machine learning models. After the data cube has been created, time series can be retrieved individually or by using CSV or SHP files, as in the following example. The example below uses a data cube in a local directory, whose images have been obtained from the <code>"MOD13Q1-6"</code> collection of the Brazil Data Cube.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/e-sensing/sits/" class="external-link">sits</a></span><span class="op">)</span></span>
<span><span class="co"># this data cube uses images from the Brazil Data Cube that have</span></span>
<span><span class="co"># downloaded to a local directory</span></span>
<span><span class="va">data_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/raster/mod13q1"</span>, package <span class="op">=</span> <span class="st">"sits"</span><span class="op">)</span></span>
<span><span class="co"># create a cube from downloaded files</span></span>
<span><span class="va">raster_cube</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/sits_cube.html">sits_cube</a></span><span class="op">(</span></span>
<span>    source <span class="op">=</span> <span class="st">"BDC"</span>,</span>
<span>    collection <span class="op">=</span> <span class="st">"MOD13Q1-6.1"</span>,</span>
<span>    data_dir <span class="op">=</span> <span class="va">data_dir</span>,</span>
<span>    delim <span class="op">=</span> <span class="st">"_"</span>,</span>
<span>    parse_info <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"X1"</span>, <span class="st">"X2"</span>, <span class="st">"tile"</span>, <span class="st">"band"</span>, <span class="st">"date"</span><span class="op">)</span>,</span>
<span>    progress <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># obtain a set of samples defined by a CSV file</span></span>
<span><span class="va">csv_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/samples/samples_sinop_crop.csv"</span>,</span>
<span>    package <span class="op">=</span> <span class="st">"sits"</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># retrieve the time series associated with the samples from the data cube</span></span>
<span><span class="va">points</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/sits_get_data.html">sits_get_data</a></span><span class="op">(</span><span class="va">raster_cube</span>, samples <span class="op">=</span> <span class="va">csv_file</span><span class="op">)</span></span>
<span><span class="co"># show the time series</span></span>
<span><span class="va">points</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="op">]</span></span>
<span><span class="co">#&gt; # A tibble: 3 × 7</span></span>
<span><span class="co">#&gt;   longitude latitude start_date end_date   label    cube        time_series</span></span>
<span><span class="co">#&gt;       &lt;dbl&gt;    &lt;dbl&gt; &lt;date&gt;     &lt;date&gt;     &lt;chr&gt;    &lt;chr&gt;       &lt;list&gt;     </span></span>
<span><span class="co">#&gt; 1     -55.8    -11.7 2013-09-14 2014-08-29 Cerrado  MOD13Q1-6.1 &lt;tibble&gt;   </span></span>
<span><span class="co">#&gt; 2     -55.8    -11.7 2013-09-14 2014-08-29 Cerrado  MOD13Q1-6.1 &lt;tibble&gt;   </span></span>
<span><span class="co">#&gt; 3     -55.7    -11.7 2013-09-14 2014-08-29 Soy_Corn MOD13Q1-6.1 &lt;tibble&gt;</span></span></code></pre></div>
<p>After a time series has been obtained, it is loaded in a tibble. The first six columns contain the metadata: spatial and temporal location, label assigned to the sample, and coverage from where the data has been extracted. The spatial location is given in longitude and latitude coordinates. The first sample has been labelled “Pasture”, at location (-55.65931, -11.76267), and is considered valid for the period (2013-09-14, 2014-08-29).</p>
</div>
</div>
<div class="section level2">
<h2 id="time-series-classification">Time Series Classification<a class="anchor" aria-label="anchor" href="#time-series-classification"></a>
</h2>
<div class="section level3">
<h3 id="training-machine-learning-models">Training Machine Learning Models<a class="anchor" aria-label="anchor" href="#training-machine-learning-models"></a>
</h3>
<p><code>sits</code> provides support for the classification of both individual time series as well as data cubes. The following machine learning methods are available in <code>sits</code>:</p>
<ul>
<li>Support vector machines (<code><a href="reference/sits_svm.html">sits_svm()</a></code>)</li>
<li>Random forests (<code><a href="reference/sits_rfor.html">sits_rfor()</a></code>)</li>
<li>Extreme gradient boosting (<code><a href="reference/sits_xgboost.html">sits_xgboost()</a></code>)</li>
<li>Multi-layer perceptrons (<code><a href="reference/sits_mlp.html">sits_mlp()</a></code>)</li>
<li>1D convolution neural networks (<code><a href="reference/sits_tempcnn.html">sits_tempcnn()</a></code>)</li>
<li>Residual neural networks (<code><a href="reference/sits_resnet.html">sits_resnet()</a></code>)</li>
<li>Temporal self-attention encoder (<code><a href="reference/sits_tae.html">sits_tae()</a></code>)</li>
<li>Lightweight temporal attention encoder (<code><a href="reference/sits_lighttae.html">sits_lighttae()</a></code>)</li>
</ul>
<p>The following example illustrate how to train a dataset and classify an individual time series. First we use the <code><a href="reference/sits_train.html">sits_train()</a></code> function with two parameters: the training dataset (described above) and the chosen machine learning model (in this case, Random Forest). The trained model is then used to classify a time series from Mato Grosso Brazilian state, using <code><a href="reference/sits_classify.html">sits_classify()</a></code>. The results can be shown in text format using the function <code><a href="reference/sits_show_prediction.html">sits_show_prediction()</a></code> or graphically using <code>plot</code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># training data set</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"samples_modis_ndvi"</span><span class="op">)</span></span>
<span><span class="co"># point to be classified</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"point_mt_6bands"</span><span class="op">)</span></span>
<span><span class="co"># Train a random forest model</span></span>
<span><span class="va">rfor_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/sits_train.html">sits_train</a></span><span class="op">(</span></span>
<span>    samples <span class="op">=</span> <span class="va">samples_modis_ndvi</span>,</span>
<span>    ml_method <span class="op">=</span> <span class="fu"><a href="reference/sits_rfor.html">sits_rfor</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># Select NDVI band of the point to be classified</span></span>
<span><span class="co"># Classify using TempCNN model</span></span>
<span><span class="co"># Plot the result</span></span>
<span><span class="va">point_mt_6bands</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="reference/sits_select.html">sits_select</a></span><span class="op">(</span>bands <span class="op">=</span> <span class="st">"NDVI"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="reference/sits_classify.html">sits_classify</a></span><span class="op">(</span><span class="va">rfor_model</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="reference/plot.html">plot</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="reference/figures/README-unnamed-chunk-9-1.png" alt="Classification of NDVI time series using Random Forest"><p class="caption">
Classification of NDVI time series using Random Forest
</p>
</div>
<p>The following example shows how to classify a data cube organized as a set of raster images. The result can also be visualized interactively using <code><a href="reference/sits_view.html">sits_view()</a></code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a data cube to be classified</span></span>
<span><span class="co"># Cube is composed of MOD13Q1 images from the Sinop region in Mato Grosso (Brazil)</span></span>
<span><span class="va">data_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/raster/mod13q1"</span>, package <span class="op">=</span> <span class="st">"sits"</span><span class="op">)</span></span>
<span><span class="va">sinop</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/sits_cube.html">sits_cube</a></span><span class="op">(</span></span>
<span>    source <span class="op">=</span> <span class="st">"BDC"</span>,</span>
<span>    collection <span class="op">=</span> <span class="st">"MOD13Q1-6.1"</span>,</span>
<span>    data_dir <span class="op">=</span> <span class="va">data_dir</span>,</span>
<span>    delim <span class="op">=</span> <span class="st">"_"</span>,</span>
<span>    parse_info <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"X1"</span>, <span class="st">"X2"</span>, <span class="st">"tile"</span>, <span class="st">"band"</span>, <span class="st">"date"</span><span class="op">)</span>,</span>
<span>    progress <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># Classify the raster cube, generating a probability file</span></span>
<span><span class="co"># Filter the pixels in the cube to remove noise</span></span>
<span><span class="va">probs_cube</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/sits_classify.html">sits_classify</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">sinop</span>,</span>
<span>    ml_model <span class="op">=</span> <span class="va">rfor_model</span>,</span>
<span>    output_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># apply a bayesian smoothing to remove outliers</span></span>
<span><span class="va">bayes_cube</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/sits_smooth.html">sits_smooth</a></span><span class="op">(</span></span>
<span>    cube <span class="op">=</span> <span class="va">probs_cube</span>,</span>
<span>    output_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># generate a thematic map</span></span>
<span><span class="va">label_cube</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/sits_label_classification.html">sits_label_classification</a></span><span class="op">(</span></span>
<span>    cube <span class="op">=</span> <span class="va">bayes_cube</span>,</span>
<span>    output_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># plot the the labelled cube</span></span>
<span><span class="fu"><a href="reference/plot.html">plot</a></span><span class="op">(</span><span class="va">label_cube</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="reference/figures/README-unnamed-chunk-10-1.png" alt="Land use and Land cover in Sinop, MT, Brazil in 2018"><p class="caption">
Land use and Land cover in Sinop, MT, Brazil in 2018
</p>
</div>
</div>
<div class="section level3">
<h3 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
<div class="section level4">
<h4 id="citable-papers-for-sits">Citable papers for sits<a class="anchor" aria-label="anchor" href="#citable-papers-for-sits"></a>
</h4>
<p>If you use <code>sits</code>, please cite the following paper:</p>
<ul>
<li>Rolf Simoes, Gilberto Camara, Gilberto Queiroz, Felipe Souza, Pedro R. Andrade, Lorena Santos, Alexandre Carvalho, and Karine Ferreira. “Satellite Image Time Series Analysis for Big Earth Observation Data”. Remote Sensing, 13: 2428, 2021. <a href="doi:10.3390/rs13132428" class="uri">doi:10.3390/rs13132428</a>.</li>
</ul>
<p>Additionally, the sample quality control methods that use self-organized maps are described in the following reference:</p>
<ul>
<li>Lorena Santos, Karine Ferreira, Gilberto Camara, Michelle Picoli, Rolf Simoes, “Quality control and class noise reduction of satellite image time series”. ISPRS Journal of Photogrammetry and Remote Sensing, 177:75-88, 2021. <a href="doi:10.1016/j.isprsjprs.2021.04.014" class="uri">doi:10.1016/j.isprsjprs.2021.04.014</a>.</li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="acknowledgements-for-community-support">Acknowledgements for community support<a class="anchor" aria-label="anchor" href="#acknowledgements-for-community-support"></a>
</h3>
<p>The authors are thankful for the contributions of Edzer Pebesma, Jakub Nowosad. Marius Appel, Martin Tennekes, Robert Hijmans, Ron Wehrens, and Tim Appelhans, respectively chief developers of the packages <code>sf</code>/<code>stars</code>, <code>supercells</code>, <code>gdalcubes</code>, <code>tmap</code>, <code>terra</code>, <code>kohonen</code>, and <code>leafem</code>. We are grateful for the work of Dirk Eddelbuettel on <code>Rcpp</code> and <code>RcppArmadillo</code>. The <code>sits</code> package recognises the great work of the RStudio team, including the <code>tidyverse</code>. Many thanks to Daniel Falbel for his great work in the <code>torch</code> and <code>luz</code> packages. Charlotte Pelletier shared the python code that has been reused for the TempCNN machine learning model. We would like to thank Maja Schneider for sharing the python code that helped the implementation of the <code><a href="reference/sits_lighttae.html">sits_lighttae()</a></code> and <code><a href="reference/sits_tae.html">sits_tae()</a></code> model. We recognize the importance of the work by Chris Holmes and Mattias Mohr on the STAC specification and API.</p>
</div>
<div class="section level3">
<h3 id="acknowledgements-for-financial-and-material-support">Acknowledgements for Financial and Material Support<a class="anchor" aria-label="anchor" href="#acknowledgements-for-financial-and-material-support"></a>
</h3>
<p>We acknowledge and thank the project funders that provided financial and material support:</p>
<ul>
<li><p>Amazon Fund, established by the Brazilian government with financial contribution from Norway, through the project contract between the Brazilian Development Bank (BNDES) and the Foundation for Science, Technology and Space Applications (FUNCATE), for the establishment of the Brazil Data Cube, process 17.2.0536.1.</p></li>
<li><p>Coordenação de Aperfeiçoamento de Pessoal de Nível Superior-Brasil (CAPES) and from the Conselho Nacional de Desenvolvimento Científico e Tecnológico (CNPq), for providing MSc and PhD scholarships.</p></li>
<li><p>Sao Paulo Research Foundation (FAPESP) under eScience Program grant 2014/08398-6, for for providing MSc, PhD and post-doc scholarships, equipment, and travel support.</p></li>
<li><p>International Climate Initiative of the Germany Federal Ministry for the Environment, Nature Conservation, Building and Nuclear Safety (IKI) under grant 17-III-084- Global-A-RESTORE+ (“RESTORE+: Addressing Landscape Restoration on Degraded Land in Indonesia and Brazil”).</p></li>
<li><p>Microsoft Planetary Computer under the GEO-Microsoft Cloud Computer Grants Programme.</p></li>
<li><p>Instituto Clima e Sociedade, under the project grant “Modernization of PRODES and DETER Amazon monitoring systems”.</p></li>
<li><p>The Open-Earth-Monitor Cyberinfrastructure project, which has received funding from the European Union’s Horizon Europe research and innovation programme under <a href="https://cordis.europa.eu/project/id/101059548" class="external-link">grant agreement No. 101059548</a>.</p></li>
<li><p><a href="https://www.fao.org/in-action/eostat" class="external-link">FAO-EOSTAT</a> initiative, which uses next generation Earth observation tools to produce land cover and land use statistics.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="how-to-contribute">How to contribute<a class="anchor" aria-label="anchor" href="#how-to-contribute"></a>
</h3>
<p>The <code>sits</code> project is released with a <a href="https://github.com/e-sensing/sits/blob/master/CODE_OF_CONDUCT.md" class="external-link">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=sits" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/e-sensing/sits/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/e-sensing/sits/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-2" class="external-link">GPL-2</a></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing sits</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Rolf Simoes <br><small class="roles"> Author </small>   </li>
<li>Gilberto Camara <br><small class="roles"> Author, maintainer, thesis advisor </small>   </li>
<li>Felipe Souza <br><small class="roles"> Author </small>   </li>
<li>Felipe Carlos <br><small class="roles"> Author </small>   </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/ropensci/software-review/issues/596" class="external-link"><img src="https://badges.ropensci.org/596_status.svg" alt="Status at rOpenSci Software Peer Review"></a></li>
<li><a href="https://cran.r-project.org/package=sits" class="external-link"><img src="https://www.r-pkg.org/badges/version/sits" alt="CRAN status"></a></li>
<li><a href="https://github.com/e-sensing/sits/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/e-sensing/sits/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-check-dev"></a></li>
<li><a href="https://codecov.io/gh/e-sensing/sits" class="external-link"><img src="https://codecov.io/gh/e-sensing/sits/branch/dev/graph/badge.svg?token=hZxdJgKGcE" alt="Codecov"></a></li>
<li><a href="https://e-sensing.github.io/sitsbook/"><img src="https://img.shields.io/badge/docs-online-blueviolet" alt="Documentation"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html" class="external-link"><img src="https://img.shields.io/badge/lifecycle-stable-brightgreen.svg" alt="Life cycle"></a></li>
<li><a href="https://github.com/e-sensing/sits/blob/master/LICENSE" class="external-link"><img src="https://img.shields.io/badge/license-GPL--2-green" alt="Software License"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Rolf Simoes, Gilberto Camara, Felipe Souza, Felipe Carlos.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
